@import url(https://themes.googleusercontent.com/fonts/css?kit=lc\_KqZAnJZMO5HHpESLXOyBT44YHZh5XveqtkptPAQM);ol.lst-kix\_list\_1-3{list-style-type:none}ol.lst-kix\_list\_1-4{list-style-type:none}.lst-kix\_list\_2-6>li:before{content:"- "}.lst-kix\_list\_2-7>li:before{content:"- "}ol.lst-kix\_list\_1-5{list-style-type:none}ol.lst-kix\_list\_1-6{list-style-type:none}ol.lst-kix\_list\_1-0{list-style-type:none}.lst-kix\_list\_2-4>li:before{content:"- "}.lst-kix\_list\_2-5>li:before{content:"- "}.lst-kix\_list\_2-8>li:before{content:"- "}ol.lst-kix\_list\_1-1{list-style-type:none}ol.lst-kix\_list\_1-2{list-style-type:none}.lst-kix\_list\_1-1>li{counter-increment:lst-ctn-kix\_list\_1-1}.lst-kix\_list\_3-0>li:before{content:"- "}.lst-kix\_list\_3-1>li:before{content:"- "}.lst-kix\_list\_3-2>li:before{content:"- "}ul.lst-kix\_list\_3-7{list-style-type:none}ul.lst-kix\_list\_3-8{list-style-type:none}ol.lst-kix\_list\_1-8.start{counter-reset:lst-ctn-kix\_list\_1-8 0}ul.lst-kix\_list\_3-1{list-style-type:none}.lst-kix\_list\_3-5>li:before{content:"- "}ul.lst-kix\_list\_3-2{list-style-type:none}.lst-kix\_list\_3-4>li:before{content:"- "}ul.lst-kix\_list\_3-0{list-style-type:none}ol.lst-kix\_list\_1-5.start{counter-reset:lst-ctn-kix\_list\_1-5 0}ol.lst-kix\_list\_1-7{list-style-type:none}.lst-kix\_list\_3-3>li:before{content:"- "}ul.lst-kix\_list\_3-5{list-style-type:none}.lst-kix\_list\_1-7>li{counter-increment:lst-ctn-kix\_list\_1-7}ol.lst-kix\_list\_1-8{list-style-type:none}ul.lst-kix\_list\_3-6{list-style-type:none}ul.lst-kix\_list\_3-3{list-style-type:none}ul.lst-kix\_list\_3-4{list-style-type:none}.lst-kix\_list\_3-8>li:before{content:"- "}.lst-kix\_list\_3-6>li:before{content:"- "}.lst-kix\_list\_3-7>li:before{content:"- "}ol.lst-kix\_list\_1-7.start{counter-reset:lst-ctn-kix\_list\_1-7 0}.lst-kix\_list\_1-2>li{counter-increment:lst-ctn-kix\_list\_1-2}.lst-kix\_list\_1-5>li{counter-increment:lst-ctn-kix\_list\_1-5}.lst-kix\_list\_1-8>li{counter-increment:lst-ctn-kix\_list\_1-8}ol.lst-kix\_list\_1-4.start{counter-reset:lst-ctn-kix\_list\_1-4 0}ol.lst-kix\_list\_1-1.start{counter-reset:lst-ctn-kix\_list\_1-1 0}.lst-kix\_list\_1-4>li{counter-increment:lst-ctn-kix\_list\_1-4}ol.lst-kix\_list\_1-6.start{counter-reset:lst-ctn-kix\_list\_1-6 0}ol.lst-kix\_list\_1-3.start{counter-reset:lst-ctn-kix\_list\_1-3 0}ul.lst-kix\_list\_2-8{list-style-type:none}ol.lst-kix\_list\_1-2.start{counter-reset:lst-ctn-kix\_list\_1-2 0}ul.lst-kix\_list\_2-2{list-style-type:none}.lst-kix\_list\_1-0>li:before{content:"" counter(lst-ctn-kix\_list\_1-0,decimal) ". "}ul.lst-kix\_list\_2-3{list-style-type:none}ul.lst-kix\_list\_2-0{list-style-type:none}ul.lst-kix\_list\_2-1{list-style-type:none}ul.lst-kix\_list\_2-6{list-style-type:none}.lst-kix\_list\_1-1>li:before{content:"" counter(lst-ctn-kix\_list\_1-1,lower-latin) ". "}.lst-kix\_list\_1-2>li:before{content:"" counter(lst-ctn-kix\_list\_1-2,lower-roman) ". "}ul.lst-kix\_list\_2-7{list-style-type:none}ul.lst-kix\_list\_2-4{list-style-type:none}ul.lst-kix\_list\_2-5{list-style-type:none}.lst-kix\_list\_1-3>li:before{content:"" counter(lst-ctn-kix\_list\_1-3,decimal) ". "}.lst-kix\_list\_1-4>li:before{content:"" counter(lst-ctn-kix\_list\_1-4,lower-latin) ". "}ol.lst-kix\_list\_1-0.start{counter-reset:lst-ctn-kix\_list\_1-0 0}.lst-kix\_list\_1-0>li{counter-increment:lst-ctn-kix\_list\_1-0}.lst-kix\_list\_1-6>li{counter-increment:lst-ctn-kix\_list\_1-6}.lst-kix\_list\_1-7>li:before{content:"" counter(lst-ctn-kix\_list\_1-7,lower-latin) ". "}.lst-kix\_list\_1-3>li{counter-increment:lst-ctn-kix\_list\_1-3}.lst-kix\_list\_1-5>li:before{content:"" counter(lst-ctn-kix\_list\_1-5,lower-roman) ". "}.lst-kix\_list\_1-6>li:before{content:"" counter(lst-ctn-kix\_list\_1-6,decimal) ". "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix\_list\_2-0>li:before{content:"- "}.lst-kix\_list\_2-1>li:before{content:"- "}.lst-kix\_list\_1-8>li:before{content:"" counter(lst-ctn-kix\_list\_1-8,lower-roman) ". "}.lst-kix\_list\_2-2>li:before{content:"- "}.lst-kix\_list\_2-3>li:before{content:"- "}ol{margin:0;padding:0}table td,table th{padding:0}.c6{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:156pt;border-top-color:#000000;border-bottom-style:solid}.c28{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:86.2pt;border-top-color:#000000;border-bottom-style:solid}.c31{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:86.2pt;border-top-color:#000000;border-bottom-style:solid}.c3{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:141pt;border-top-color:#000000;border-bottom-style:solid}.c35{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:86.2pt;border-top-color:#000000;border-bottom-style:solid}.c22{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c19{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c30{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:73.5pt;border-top-color:#000000;border-bottom-style:solid}.c7{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c26{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:238.5pt;border-top-color:#000000;border-bottom-style:solid}.c9{padding-top:18pt;padding-bottom:4pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify;height:16pt}.c2{padding-top:0pt;padding-bottom:4pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify;height:11pt}.c17{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Spectral";font-style:normal}.c16{padding-top:18pt;padding-bottom:4pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c33{padding-top:20pt;padding-bottom:6pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c14{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:15pt;font-family:"Arial";font-style:normal}.c0{padding-top:18pt;padding-bottom:6pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c5{padding-top:0pt;padding-bottom:16pt;line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c39{-webkit-text-decoration-skip:none;color:#000000;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:20pt;font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Spectral";font-style:normal}.c10{padding-top:0pt;padding-bottom:4pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c29{padding-top:0pt;padding-bottom:0pt;line-height:1.1500000000000001;orphans:2;widows:2;text-align:justify}.c12{text-decoration-skip-ink:none;font-family:"Spectral";-webkit-text-decoration-skip:none;font-weight:700;text-decoration:underline}.c13{color:#000000;text-decoration:none;vertical-align:baseline;font-size:16pt;font-style:normal}.c15{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c11{color:#000000;text-decoration:none;vertical-align:baseline;font-size:20pt;font-style:normal}.c20{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;font-weight:700;text-decoration:underline}.c18{color:#000000;vertical-align:baseline;font-size:11pt;font-style:normal}.c38{margin-left:-49.5pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c24{border-spacing:0;border-collapse:collapse;margin-right:auto}.c36{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt}.c37{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c32{padding:0;margin:0}.c23{color:inherit;text-decoration:inherit}.c8{font-weight:400;font-family:"Spectral"}.c21{margin-left:36pt;padding-left:0pt}.c34{height:11pt}.c25{font-style:italic}.c27{height:0pt}.title{padding-top:0pt;color:#000000;font-size:20pt;padding-bottom:3pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}li{color:#000000;font-size:11pt;font-family:"Spectral"}p{margin:0;color:#000000;font-size:11pt;font-family:"Spectral"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;orphans:2;widows:2;text-align:justify}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Spectral";line-height:1.1500000000000001;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:justify}

Peripheral Bus Interface Generation 1
=====================================

N.B: This document is for Peripheral Bus Interface Generation 1. From here on, PBI or Peripheral Bus Interface means Peripheral Bus Interface Generation 1.

[Introduction to Peripheral Bus Interface        2](#h.30j0zll)

[Peripheral Bus Interface Clock and Synchronisation        3](#h.3znysh7)

[Peripheral Bus Interface Pinout        4](#h.tyjcwt)

[Reserved Peripheral Bus Interface Commands        5](#h.1t3h5sf)

[Peripheral Bus Interface Addressing Standards        7](#h.26in1rg)

[Required CPU Computation Capabilities        8](#h.lnxbz9)

[Peripheral Bus Interface Over Serial Link        9](#h.35nkun2)

[Implementing PBI on Your System        10](#h.1ksv4uv)

* * *

Introduction to Peripheral Bus Interface
----------------------------------------

PBI is a simplex standard for addressing multiple peripherals on the same lane. Functionally, it’s most similar to the old PCI (Peripheral Component Interconnect) protocol. PBI uses 8 address bits for each peripheral. This allows it to support 256 addresses, but 0x00 and 0xFF mustn't be used (see Peripheral Bus Interface Addressing Standards) and 12 data bits. All data is sent in parallel form, to reduce complexity and increase transfer speed. Each kind of peripheral (such as GPU, sound card, keyboard) has its own relevant and unique PBI address.

PBI is a data-only protocol. It doesn’t power the components placed on it, which need their own power sources. The protocol requires either 21 or 23 parallel signals. For the spacing, arrangement and function of individual pins, see the PBI Pinout section.

* * *

Peripheral Bus Interface Clock and Synchronisation
--------------------------------------------------

Other than the 12 data pins and the 8 address pins, the last wire is for the clock. The clock is set by the CPU as an output only pin. It’s impossible for the CPU to relinquish control of the output line. However, there is no requirement for PBI peripherals to synchronise against it if it’s not a necessary action. The PBI clock speed is set by the CPU - e.g. on the TE16100 it’s 50MHz, which means the maximum transfer speed is 50 MT/s. There is no need for acknowledgement packets on the protocol, but drivers can implement them for their peripherals, a simplified process being:

1.  Send command
2.  Disable clock
3.  Change to input mode
4.  Enable clock
5.  Read from PBI
6.  Copy to accumulator
7.  Check if zero with JNZ and JPZ.

* * *

Peripheral Bus Interface Pinout
-------------------------------

The PBI pinout is standardised so that all components can be designed to use the same connectors. The standard pinout for a PBI component is to have (from left to right) the address pins on the left, followed by a gap, then the data pins. As a minimum, this gives the following PBI pinout:

![](images/image12.png)

This is the most simple pinout for a PBI expansion card. There are also two other standardised pins. The first is ![](images/image1.png) (Chip Enable). When pulled high, this overrides the address (turning any address into the correct one). This allows the motherboard to control PBI addresses instead of the CPU. The second pin is ![](images/image2.png) (Disable Address Line). When pulled high, this disables the functionality of the address pins (giving addressign control entirely to the ![](images/image1.png) pin). Both of these pins are optional and not a required feature of the motherboard - but the motherboard must pull ![](images/image1.png) and ![](images/image2.png) LOW if it doesn’t control the peripheral with them, The full pinout looks like this:

![](images/image14.png)

Pins should have a 2.54 mm pitch, and receptacles must be 1.90 mm long. The intended gaps (between A7 and D0, and D11 and CLK) are the same as having a pin with no connection. The gaps are part of the standardised connector system in order to stop a peripheral being inserted in the wrong direction. Splitting the pins into groups with the same function makes the pinout more intuitive to debug the hardware.

Reserved Peripheral Bus Interface Commands
------------------------------------------

Built-in Acknowledgement

PBI integrates a standard code that can be used to check if a device is working. If the data 0x0F0 is sent to the device (and the device is expecting a command cycle, if applicable), it responds with a standard acknowledgement that shows it is working or its status. Below is the format of this response, which is used to make sure the peripheral is working correctly.

![](images/image13.png)

ID Cycle:

12 bits for the ID. This is set as a way of identifying the chip connected to the bus.

Addr Cycle:

The address the chip is placed at on the PBI bus. This is a confirmation, and can be used to check both the CPU and the peripheral agree on the address being set. If the ![](images/image2.png) line is high, and the component is being addressed through ![](images/image1.png), then the response will be 0x000. This is a way of determining whether ![](images/image1.png) is being used.

ACK Cycle:

A positive (all ok) acknowledgement is a non-zero response. This indicates the component is working properly. If the response is zero, there is an error with the hardware / software on the component. Drivers designed for PBI components should contain a function which checks for this acknowledgment. A non-zero ACK can also be used as an error code, such that sending 0x030 means error 0x030 - providing a reason as to the error.

No Operation

If, at any point, no data is sent on the bus, then the bus will have the command 0x000h. If this is built into the instruction set of a peripheral as a command, then data being turned off, or an address different to that of the peripheral, will cause the 0x000h to be executed as a command. Therefore, the code 0x000h is not to be used as a command.

Halt Operation

If the code 0xFFFh is sent on the bus to a peripheral as a command, it should be treated like a HALT operation, and the peripheral should stop executing commands and reading data.

Reset (Optional):

This code is optional - a peripheral doesn’t have to implement it. However, whether it does or doesn’t, it’s documentation and drivers should make it clear if the command is present. The command to reset the peripheral completely is 0x00Dh. It’s good practice that a peripheral should send an acknowledgement after the reset is complete.

* * *

Peripheral Bus Interface Addressing Standards
---------------------------------------------

As discussed previously, each peripheral has an address between 0x01 and 0xFE (with 0x00 and 0xFF reserved). Each type of peripheral should have a corresponding address, to avoid conflicting addresses for different classes of peripherals. The current table is shown below:

Peripheral Class

PBI Address

GPU

0x01

EEPROM / Flash / Secondary Storage / BIOS

0x02

Keyboard HID

0x03

Mouse HID

0x04

Sound & Audio Unit

0x05

If both a Mouse HID and Keyboard HID is present on one peripheral card, it should use the PBI address 0x03 (Keyboard HID)

* * *

Required CPU Computation Capabilities
-------------------------------------

The CPU requires a series of instructions to handle PBI, as well as two registers for the PBI lane’s hardware. The registers needed are:

*   Peripheral Bus Interface Generation 1 Address Register (PBIG1AR) - 8 bits
*   Peripheral Bus Interface Generation 1 Data Register (PBIG1DR) - 12 bits

The PBIG1AR register should always output its address - there’s no need to disable it. The data register may be disabled (high impedance), or enabled, until data is sent.

There are a set of OPCODES which are recommended for the CPU to efficiently deal with PBI. These are:

*   PBIA                Set the PBIG1AR (change PBI address)
*   PBID                Output data onto the PBI lane, or read data into PBIG1DR.
*   PBIM                Change the mode from read to write
*   PBIC                Change the PBI Clock (disabling it - tying it LOW or enabling it - normal operation)\*

An Explanation Of PBIC

PBIC is used to stop the PBI clock from operating. This is used if the peripheral is expecting data on the next clock cycle, but moving data to the data register before outputting it will take multiple clock cycles. Because the enabling of the PBIC is negative edge, it can be enabled and the next command be PBD, outputting the new value with the clock active. This is shown below:

![](images/image15.png)

This allows data to be moved around the CPU while the PBI is frozen and waits for the next data set, which can be sent whenever the necessary calculations have taken place.

* * *

Peripheral Bus Interface Over Serial Link
-----------------------------------------

Serial Peripheral Bus interface is a way of using PBI on a CPU with very limited IO pins. The parallel data internally is converted to serial form and outputted, before being converted back into parallel. This is reasonably complicated, because it requires both serial to parallel and parallel to serial converters on either side of the IO pins. The serial form has a waveform like below:![](images/image10.png)

(example data format - not actual bus)

If the clock is high, data is read - a LOW data line indicates a 0 while a HIGH data line represents a 1. In the above scenario, the data sent is 1001010110. One of these serial lines is needed for the PBI address, while another is needed for the data. There is also a PBI clock pin and a pin for ![](images/image3.png). This gives a total of 4 I/O pins and 1 O pin to use PBI Serial Mode. PBI serial mode should be seen as a “last resort” - if there is no way or possibility of a parallel bus being used. It will significantly slow the system down. It is the responsibility of the northbridge on the motherboard to use the R/W flag (![](images/image3.png)), in order to select the appropriate shift register combinations. The table below illustrates this:

SIPO = Serial In Parallel Out PISO = Parallel in Serial Out

Serial Line:

R/W HIGH (read to CPU)

R/W LOW (write from CPU)

ADDR

Motherboard: SIPO

CPU: PISO

Motherboard: SIPO

CPU: PISO

DATA

Motherboard: PISO

CPU: SIPO

Motherboard: SIPO

CPU: PISO

Note that the address is always dictated by the CPU - a peripheral cannot change the address active.

Implementing PBI on Your System
-------------------------------

Operating Voltages

The operating voltages on the PBI lane are from 0 to 3.3V.  Using 5V will damage the CPUs intended for the standard. This is per the TTL Input High standard voltages. CMOS voltages are not supported. Alternatively, a bidirectional MOSFET level shifter can be used to shift down the bus to 3.3V when it reaches the CPU, and up to 5V as it exits. If 5V logic PBI lanes are used, this must be clearly marked because most peripherals will use 3.3V.

Current Sourcing and Sinking

The maximum current allowed to be sent down the bus is 16mA. Higher current will damage the CPU pins. The data outputs from the CPU must not be used to source current to power any peripheral, nor should they be used to implement logic (e.g. the diagram shown below is forbidden)![](images/image11.png)

This is forbidden because it means the CPU is forced to source the current for the logic, which it simply cannot do.

High-Impedance Deselect

If the address supplied to the peripheral is not correct, then the data inputs should enter high-impedance (high-z) mode. This can be done by tri-state buffering the data inputs. This stops current being sunk to ground when the peripheral is deselected because of its address. Current may flow through the address inputs when the peripheral is deselected, or if the CE / DAL addressing mode is being used.

* * *

Document Revisions
==================

Last Standard Revision: Generation 1.0 (April 2023)

* * *

PBI Generation 1

PBI Generation 2

PBI Generation 3

Data Transfer Rate

Simplex

Simplex

Full duplex

Data Transfer Type

Parallel

Parallel

Dual differential serial

Peripheral addresses

Hardware-fixed

Dynamic

Dynamic

Interrupts?

No

No

Yes

Power over the bus?

No

No

Yes, 3.3V, 5V and 12V power

No of pins on connector

21 or 23

23 or 25

15

Suggested clock speed

25 MHz

50 MHz

100 MHz

4 twisted pair serial wires (2 DATA (CTX+, CTX-, CRX+, CRX-) , 2 CLOCK (TXK+, TXK-, RXK+, RXK-)).

4 power wires (12V, 3V3, 5V, GND)

2 join control wires ( ![](images/image4.png), ![](images/image5.png))

2 interrupt wires (![](images/image6.png),  ![](images/image7.png))

Join goes LOW → CPU stops → when CPU ready, address sent off CTX with RESP LOW. This is picked up by the peripheral, which knows that this is the address to switch to. other peripherals, seeing RESP low, ignore the data.

![](images/image8.png)

![](images/image9.png)